<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¸¡è›‹ç³•åˆ¶ä½œä¸é…é€åŠ¨ç”»</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #1a0f0a 0%, #3c2415 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
            overflow: hidden;
            padding: 10px;
        }
        
        /* èƒŒæ™¯è£…é¥°å…ƒç´  */
        .floating-element {
            position: fixed;
            border-radius: 50%;
            opacity: 0.1;
            z-index: 0;
        }
        
        .bg-element-1 {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, #ff9900, transparent 70%);
            top: 5%;
            left: 5%;
            animation: float 20s infinite ease-in-out;
        }
        
        .bg-element-2 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, #ff3366, transparent 70%);
            bottom: 10%;
            right: 5%;
            animation: float 18s infinite ease-in-out reverse;
        }
        
        .bg-element-3 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #33ccff, transparent 70%);
            top: 70%;
            left: 85%;
            animation: float 15s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        /* ä¸»å®¹å™¨ */
        .animation-container {
            width: 100%;
            max-width: 500px;
            height: 85vh;
            min-height: 600px;
            max-height: 800px;
            background: radial-gradient(ellipse at center, rgba(40, 20, 10, 0.9) 0%, rgba(20, 10, 5, 0.95) 100%);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(210, 105, 30, 0.5);
            box-shadow: 
                0 0 30px rgba(210, 105, 30, 0.3),
                0 10px 20px rgba(0, 0, 0, 0.5),
                inset 0 0 20px rgba(255, 215, 0, 0.1);
            z-index: 1;
        }
        
        /* ç§»åŠ¨ç«¯æ¨ªå±é€‚é… */
        @media (orientation: landscape) and (max-height: 500px) {
            .animation-container {
                height: 95vh;
                min-height: 300px;
                max-height: 400px;
            }
            
            .instruction-box {
                font-size: 16px !important;
                padding: 12px 20px !important;
                bottom: 15px !important;
            }
            
            .status-indicator {
                font-size: 12px !important;
                padding: 6px 12px !important;
                top: 10px !important;
                right: 10px !important;
            }
            
            .receive-button {
                bottom: 80px !important;
                font-size: 18px !important;
                padding: 12px 30px !important;
            }
        }
        
        /* åŠ¨ç”»åŒºåŸŸ */
        .animation-area {
            width: 100%;
            height: 100%;
            position: relative;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 215, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 105, 30, 0.05) 0%, transparent 50%);
        }
        
        /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .status-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #d2691e, #ff8c00);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 5px 15px rgba(210, 105, 30, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: pulse 2s infinite;
        }
        
        .status-indicator i {
            animation: spin 1.5s linear infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* è¯´æ˜æ¡† */
        .instruction-box {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 450px;
            background: linear-gradient(135deg, rgba(40, 20, 10, 0.9), rgba(60, 30, 15, 0.9));
            color: #ffd700;
            padding: 18px 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.2),
                0 5px 10px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            text-shadow: 0 1px 5px rgba(255, 215, 0, 0.5);
            backdrop-filter: blur(5px);
            line-height: 1.4;
        }
        
        /* ç­¾æ”¶æŒ‰é’® */
        .receive-button {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff3366, #ff0066);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2000;
            box-shadow: 
                0 5px 15px rgba(255, 51, 102, 0.4),
                0 0 20px rgba(255, 0, 102, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            visibility: hidden;
            animation: pulse-button 2s infinite alternate;
        }
        
        .receive-button:hover {
            transform: translateX(-50%) translateY(-3px);
            box-shadow: 
                0 8px 20px rgba(255, 51, 102, 0.6),
                0 0 30px rgba(255, 0, 102, 0.5);
        }
        
        .receive-button:active {
            transform: translateX(-50%) translateY(1px);
        }
        
        .receive-button.show {
            opacity: 1;
            visibility: visible;
            animation: pop-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .receive-button.receiving {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        .receive-button.received {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }
        
        @keyframes pop-in {
            0% { transform: translateX(-50%) scale(0); opacity: 0; }
            70% { transform: translateX(-50%) scale(1.1); }
            100% { transform: translateX(-50%) scale(1); opacity: 1; }
        }
        
        @keyframes pulse-button {
            0% { box-shadow: 0 5px 15px rgba(255, 51, 102, 0.4), 0 0 20px rgba(255, 0, 102, 0.3); }
            100% { box-shadow: 0 5px 20px rgba(255, 51, 102, 0.6), 0 0 30px rgba(255, 0, 102, 0.5); }
        }
        
        /* æˆåŠŸç­¾æ”¶ç‰¹æ•ˆ */
        .success-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3000;
            pointer-events: none;
            opacity: 0;
            visibility: hidden;
        }
        
        .success-effect.show {
            animation: fade-in 0.5s forwards;
        }
        
        .success-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.95), rgba(255, 165, 0, 0.95));
            color: #8b4513;
            padding: 30px 50px;
            border-radius: 20px;
            font-size: 28px;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 3001;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }
        
        .success-message.show {
            animation: pop-up 0.5s 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        
        @keyframes fade-in {
            to { opacity: 1; visibility: visible; }
        }
        
        @keyframes pop-up {
            0% { transform: translate(-50%, -50%) scale(0); }
            70% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        
        /* åŠ¨ç”»å…ƒç´ é€šç”¨æ ·å¼ */
        .animated-element {
            position: absolute;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .bounce {
            animation: bounce 0.5s ease infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-8px); }
        }
        
        .rotate {
            animation: rotate 2s linear infinite;
        }
        
        .wiggle {
            animation: wiggle 0.5s ease-in-out infinite alternate;
        }
        
        .float-up {
            animation: float-up 3s ease-in-out infinite;
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        /* ç²’å­æ•ˆæœ */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.8;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .instruction-box {
                font-size: 16px;
                padding: 15px 20px;
                bottom: 15px;
            }
            
            .status-indicator {
                font-size: 12px;
                padding: 6px 12px;
                top: 10px;
                right: 10px;
            }
            
            .receive-button {
                font-size: 18px;
                padding: 14px 30px;
                bottom: 90px;
            }
            
            .animation-container {
                border-radius: 15px;
            }
        }
        
        @media (max-width: 360px) {
            .instruction-box {
                font-size: 14px;
                padding: 12px 16px;
            }
            
            .receive-button {
                font-size: 16px;
                padding: 12px 24px;
                bottom: 85px;
            }
            
            .animation-container {
                height: 80vh;
                min-height: 500px;
            }
        }
        
        /* é˜²æ­¢æ–‡æœ¬é€‰ä¸­ */
        .no-select {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* æ–°å¢åŠ¨ç”»å…³é”®å¸§ */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes wiggle {
            from { transform: rotate(-5deg); }
            to { transform: rotate(5deg); }
        }
        
        @keyframes float-up {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-15px) scale(1.05); }
        }
        
        @keyframes pop {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes fly {
            0% { transform: translateX(-100px) rotate(-20deg); }
            100% { transform: translateX(100vw) rotate(20deg); }
        }
        
        @keyframes walk {
            0% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(5px) translateY(-3px); }
            50% { transform: translateX(10px) translateY(0); }
            75% { transform: translateX(15px) translateY(-3px); }
            100% { transform: translateX(20px) translateY(0); }
        }
        
        @keyframes twinkle {
            0% { opacity: 0.2; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }
    </style>
</head>
<body class="no-select">
    <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
    <div class="floating-element bg-element-1"></div>
    <div class="floating-element bg-element-2"></div>
    <div class="floating-element bg-element-3"></div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="animation-container">
        <div class="status-indicator">
            <i>ğŸŒ€</i> è‡ªåŠ¨æ’­æ”¾ä¸­...
        </div>
        <div class="animation-area" id="animationArea">
            <!-- åŠ¨ç”»å°†åœ¨è¿™é‡Œå±•ç¤º -->
        </div>
        <div class="instruction-box" id="instruction">
            é¸¡è›‹ç³•åˆ¶ä½œä¸é…é€åŠ¨ç”»å³å°†å¼€å§‹...
        </div>
        
        <!-- ç­¾æ”¶æŒ‰é’® -->
        <button class="receive-button" id="receiveButton" onclick="receiveCake()">
            <span id="buttonIcon">ğŸ“¦</span>
            <span id="buttonText">ç‚¹å‡»ç­¾æ”¶</span>
        </button>
    </div>
    
    <!-- æˆåŠŸç­¾æ”¶ç‰¹æ•ˆ -->
    <div class="success-effect" id="successEffect">
        <div class="success-message" id="successMessage">
            ç­¾æ”¶æˆåŠŸï¼<br>ğŸ‚
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const animationArea = document.getElementById('animationArea');
            const instruction = document.getElementById('instruction');
            const receiveButton = document.getElementById('receiveButton');
            const buttonIcon = document.getElementById('buttonIcon');
            const buttonText = document.getElementById('buttonText');
            const successEffect = document.getElementById('successEffect');
            const successMessage = document.getElementById('successMessage');
            
            // æ­¥éª¤æ•°æ®
            const steps = [
                { 
                    title: "å‡†å¤‡ææ–™", 
                    text: "ğŸ¥š å‡†å¤‡æ–°é²œé¸¡è›‹ã€é¦™æµ“é¢ç²‰ã€ç”œèœœç ‚ç³–ï¼Œç¾å‘³ä¹‹æ—…å¼€å§‹ï¼", 
                    duration: 3000
                },
                { 
                    title: "æ‰“æ•£é¸¡è›‹", 
                    text: "ğŸ¥£ æ…æ‹Œé¸¡è›‹å’Œç³–ï¼Œè®©å®ƒä»¬å¿«ä¹åœ°è·³èµ·èˆæ¥ï½", 
                    duration: 3500
                },
                { 
                    title: "åŠ å…¥ç‰›å¥¶å’Œæ²¹", 
                    text: "ğŸ¥› å€’å…¥ç‰›å¥¶å’Œæ¤ç‰©æ²¹ï¼Œé¢ç³Šæ›´åŠ é¡ºæ»‘é¦™ç”œï½", 
                    duration: 3200
                },
                { 
                    title: "ç­›å…¥é¢ç²‰", 
                    text: "ğŸŒ¾ è½»æŸ”ç­›å…¥é¢ç²‰ï¼Œç¡®ä¿é¢ç³Šç»†è…»æ— é¢—ç²’", 
                    duration: 3800
                },
                { 
                    title: "æ…æ‹Œé¢ç³Š", 
                    text: "ğŸŒ€ æ¸©æŸ”æ…æ‹Œï¼Œç©ºæ°”æ··å…¥ï¼Œè›‹ç³•æ‰èƒ½è“¬æ¾å¯å£", 
                    duration: 4000
                },
                { 
                    title: "å€’å…¥æ¨¡å…·", 
                    text: "ğŸ§ é¢ç³Šå€’å…¥å¯çˆ±æ¨¡å…·ï¼Œå‡†å¤‡è¿›å…¥çƒ¤ç®±å•¦ï¼", 
                    duration: 3500
                },
                { 
                    title: "çƒ˜çƒ¤è›‹ç³•", 
                    text: "ğŸ”¥ çƒ¤ç®±å¼€å§‹å·¥ä½œï½é¦™æ°”å››æº¢ï¼Œè›‹ç³•æ…¢æ…¢è†¨èƒ€ï¼", 
                    duration: 4500
                },
                { 
                    title: "è£…é¥°è›‹ç³•", 
                    text: "âœ¨ è›‹ç³•å‡ºç‚‰å•¦ï¼æ’’ä¸Šå½©è‰²ç³–ç²’ï¼Œè£…é¥°ç¾ä¸½å›¾æ¡ˆï½", 
                    duration: 4000
                },
                { 
                    title: "åŒ…è£…è›‹ç³•", 
                    text: "ğŸ ç²¾å¿ƒåŒ…è£…ï¼Œç³»ä¸Šæ¼‚äº®çš„è´è¶ç»“ï¼Œå‡†å¤‡å‡ºå‘ï¼", 
                    duration: 3800
                },
                { 
                    title: "é£æœºè¿é€", 
                    text: "âœˆï¸ é£æœºèµ·é£ï¼è›‹ç³•æ­£åœ¨ç©ºä¸­å¿«é€Ÿé£è¡Œä¸­...", 
                    duration: 5000
                },
                { 
                    title: "é€è´§ä¸Šé—¨", 
                    text: "ğŸšš å¿«é€’å‘˜å”å”æ­£åœ¨åŠªåŠ›é…é€ï¼Œé©¬ä¸Šå°±åˆ°å•¦ï¼", 
                    duration: 4500
                },
                { 
                    title: "ç­‰å¾…ç­¾æ”¶", 
                    text: "ğŸ“¦ è›‹ç³•å·²é€è¾¾ï¼ç§‹è‰³ï¼Œè¯·ç‚¹å‡»ç­¾æ”¶æŒ‰é’®ï½", 
                    duration: 9999999
                }
            ];
            
            let currentStep = 0;
            let isReceiving = false;
            let isAutoPlaying = true;
            let animationTimer = null;
            
            // åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
            function createStars() {
                for (let i = 0; i < 20; i++) {
                    const star = document.createElement('div');
                    star.style.position = 'absolute';
                    star.style.width = Math.random() * 3 + 2 + 'px';
                    star.style.height = star.style.width;
                    star.style.backgroundColor = '#fff';
                    star.style.borderRadius = '50%';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.opacity = Math.random() * 0.5 + 0.3;
                    star.style.boxShadow = '0 0 5px #fff';
                    star.style.animation = `twinkle ${Math.random() * 2 + 1}s infinite alternate`;
                    animationArea.appendChild(star);
                }
            }
            
            // åˆ›å»ºç²’å­æ•ˆæœ
            function createParticles(x, y, count = 20, color = '#ffd700') {
                for (let i = 0; i < count; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.width = Math.random() * 8 + 4 + 'px';
                    particle.style.height = particle.style.width;
                    particle.style.backgroundColor = color;
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    particle.style.boxShadow = `0 0 10px ${color}`;
                    animationArea.appendChild(particle);
                    
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 100 + 50;
                    const distance = Math.random() * 100 + 50;
                    
                    particle.style.transition = `all ${Math.random() + 0.5}s ease-out`;
                    particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                    particle.style.opacity = '0';
                    
                    setTimeout(() => particle.remove(), 800);
                }
            }
            
            // æ¸…é™¤åŠ¨ç”»åŒºåŸŸ
            function clearAnimationArea() {
                animationArea.innerHTML = '';
            }
            
            // æ˜¾ç¤ºå½“å‰æ­¥éª¤
            function showStep(stepIndex) {
                if (stepIndex >= steps.length) {
                    stepIndex = 0; // å¾ªç¯æ’­æ”¾
                }
                
                instruction.textContent = steps[stepIndex].text;
                instruction.style.animation = 'pop 0.4s ease-out';
                
                // æ¸…é™¤ä¹‹å‰çš„åŠ¨ç”»
                clearAnimationArea();
                
                // å¦‚æœæ˜¯ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
                if (stepIndex === 0) {
                    createStars();
                }
                
                // åˆ›å»ºç²’å­æ•ˆæœ
                const containerWidth = animationArea.offsetWidth;
                const containerHeight = animationArea.offsetHeight;
                createParticles(containerWidth / 2, containerHeight / 2, 30, '#ff9900');
                
                // æ ¹æ®æ­¥éª¤æ˜¾ç¤ºåŠ¨ç”»
                switch(stepIndex) {
                    case 0: showPreparation(); break;
                    case 1: showEggCracking(); break;
                    case 2: showAddingLiquid(); break;
                    case 3: showAddingFlour(); break;
                    case 4: showMixing(); break;
                    case 5: showPouringIntoMold(); break;
                    case 6: showBaking(); break;
                    case 7: showDecorating(); break;
                    case 8: showPackaging(); break;
                    case 9: showAirplane(); break;
                    case 10: showDelivery(); break;
                    case 11: showReadyToReceive(); break;
                }
                
                // ç§»é™¤åŠ¨ç”»æ•ˆæœ
                setTimeout(() => {
                    instruction.style.animation = '';
                }, 400);
                
                // å¦‚æœæ˜¯æœ€åä¸€æ­¥ï¼Œæ˜¾ç¤ºç­¾æ”¶æŒ‰é’®
                if (stepIndex === steps.length - 1 && !isReceiving) {
                    setTimeout(() => {
                        receiveButton.classList.add('show');
                        buttonText.textContent = "ç§‹è‰³ï¼Œç‚¹å‡»ç­¾æ”¶";
                        buttonIcon.textContent = "ğŸ“¦";
                        receiveButton.classList.remove('receiving', 'received');
                        isAutoPlaying = false; // åœæ­¢è‡ªåŠ¨æ’­æ”¾
                    }, 1000);
                } else {
                    receiveButton.classList.remove('show');
                }
            }
            
            // æ­¥éª¤1: å‡†å¤‡ææ–™
            function showPreparation() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                const ingredients = [
                    { emoji: 'ğŸ¥š', x: centerX - 100, y: centerY - 50, size: 60, color: '#ffd700' },
                    { emoji: 'ğŸŒ¾', x: centerX - 30, y: centerY - 30, size: 50, color: '#f5deb3' },
                    { emoji: 'ğŸ¬', x: centerX + 40, y: centerY - 40, size: 45, color: '#ffcccb' },
                    { emoji: 'ğŸ¥›', x: centerX + 100, y: centerY - 20, size: 55, color: '#f0fff0' }
                ];
                
                ingredients.forEach((ing, index) => {
                    const element = document.createElement('div');
                    element.className = 'animated-element';
                    element.style.fontSize = ing.size + 'px';
                    element.style.left = ing.x + 'px';
                    element.style.top = centerY + 100 + 'px'; // ä»ä¸‹æ–¹è¿›å…¥
                    element.style.opacity = '0';
                    element.style.transform = 'scale(0)';
                    element.style.filter = 'drop-shadow(0 5px 10px rgba(0,0,0,0.3))';
                    element.style.zIndex = 1000;
                    element.textContent = ing.emoji;
                    animationArea.appendChild(element);
                    
                    setTimeout(() => {
                        element.style.transition = 'all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)';
                        element.style.top = ing.y + 'px';
                        element.style.opacity = '1';
                        element.style.transform = 'scale(1)';
                        
                        // æ·»åŠ å¼¹è·³æ•ˆæœ
                        setTimeout(() => {
                            element.style.animation = 'bounce 0.5s ease infinite alternate';
                        }, 600 + index * 100);
                    }, index * 200);
                });
            }
            
            // æ­¥éª¤2: æ‰“æ•£é¸¡è›‹
            function showEggCracking() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // åˆ›å»ºç¢—
                const bowl = createBowl(centerX, centerY);
                
                // åˆ›å»ºé¸¡è›‹æ‰è½åŠ¨ç”»
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const egg = document.createElement('div');
                        egg.className = 'animated-element';
                        egg.style.fontSize = '50px';
                        egg.style.left = (centerX - 60 + i * 40) + 'px';
                        egg.style.top = '50px';
                        egg.textContent = 'ğŸ¥š';
                        egg.style.transform = 'rotate(0deg)';
                        animationArea.appendChild(egg);
                        
                        // é¸¡è›‹æ‰è½åŠ¨ç”»
                        egg.style.transition = 'all 0.8s cubic-bezier(0.65, 0, 0.35, 1)';
                        egg.style.top = (centerY - 20) + 'px';
                        egg.style.transform = 'rotate(360deg)';
                        
                        // é¸¡è›‹è£‚å¼€æ•ˆæœ
                        setTimeout(() => {
                            egg.style.opacity = '0.5';
                            egg.style.transform = 'scale(0.8) rotate(180deg)';
                            
                            // æ˜¾ç¤ºè›‹é»„
                            setTimeout(() => {
                                const yolk = document.createElement('div');
                                yolk.className = 'animated-element';
                                yolk.style.fontSize = '30px';
                                yolk.style.left = (centerX - 60 + i * 40) + 'px';
                                yolk.style.top = (centerY - 20) + 'px';
                                yolk.textContent = 'ğŸŸ¡';
                                yolk.style.opacity = '0';
                                animationArea.appendChild(yolk);
                                
                                yolk.style.transition = 'all 0.5s ease-out';
                                yolk.style.opacity = '1';
                                yolk.style.transform = 'scale(1.5)';
                                
                                setTimeout(() => {
                                    yolk.style.opacity = '0';
                                    yolk.style.transform = 'scale(1)';
                                    egg.style.opacity = '0';
                                    setTimeout(() => {
                                        egg.remove();
                                        yolk.remove();
                                    }, 500);
                                }, 1000);
                            }, 200);
                        }, 800);
                    }, i * 300);
                }
            }
            
            // æ­¥éª¤3: åŠ å…¥ç‰›å¥¶å’Œæ²¹
            function showAddingLiquid() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                const bowl = createBowl(centerX, centerY);
                
                // åˆ›å»ºç‰›å¥¶å’Œæ²¹çš„å›¾æ ‡
                const milk = document.createElement('div');
                milk.className = 'animated-element';
                milk.style.fontSize = '40px';
                milk.style.left = centerX - 120 + 'px';
                milk.style.top = '50px';
                milk.textContent = 'ğŸ¥›';
                milk.style.opacity = '0';
                animationArea.appendChild(milk);
                
                const oil = document.createElement('div');
                oil.className = 'animated-element';
                oil.style.fontSize = '40px';
                oil.style.left = centerX + 80 + 'px';
                oil.style.top = '50px';
                oil.textContent = 'ğŸ›¢ï¸';
                oil.style.opacity = '0';
                animationArea.appendChild(oil);
                
                setTimeout(() => {
                    milk.style.transition = 'all 0.8s ease-out';
                    oil.style.transition = 'all 0.8s ease-out';
                    milk.style.opacity = '1';
                    oil.style.opacity = '1';
                    milk.style.top = (centerY - 20) + 'px';
                    oil.style.top = (centerY - 20) + 'px';
                    
                    // åˆ›å»ºæ»´è½æ•ˆæœ
                    setTimeout(() => {
                        for (let i = 0; i < 8; i++) {
                            setTimeout(() => {
                                const drop = document.createElement('div');
                                drop.style.position = 'absolute';
                                drop.style.width = '5px';
                                drop.style.height = '10px';
                                drop.style.background = 'linear-gradient(to bottom, #ffffff, #f0f8ff)';
                                drop.style.borderRadius = '0 0 5px 5px';
                                drop.style.left = (centerX - 60 + Math.random() * 120) + 'px';
                                drop.style.top = (centerY - 20) + 'px';
                                animationArea.appendChild(drop);
                                
                                drop.style.transition = 'all 0.5s linear';
                                drop.style.top = (centerY + 30) + 'px';
                                drop.style.opacity = '0.5';
                                
                                setTimeout(() => {
                                    drop.remove();
                                }, 500);
                            }, i * 100);
                        }
                    }, 300);
                }, 500);
            }
            
            // æ­¥éª¤4: ç­›å…¥é¢ç²‰
            function showAddingFlour() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                const bowl = createBowl(centerX, centerY);
                
                // åˆ›å»ºé¢ç²‰è¢‹
                const flourBag = document.createElement('div');
                flourBag.className = 'animated-element';
                flourBag.style.fontSize = '50px';
                flourBag.style.left = centerX - 25 + 'px';
                flourBag.style.top = '50px';
                flourBag.textContent = 'ğŸŒ¾';
                flourBag.style.opacity = '0';
                animationArea.appendChild(flourBag);
                
                setTimeout(() => {
                    flourBag.style.transition = 'all 0.8s ease-out';
                    flourBag.style.opacity = '1';
                    flourBag.style.top = (centerY - 50) + 'px';
                    
                    // åˆ›å»ºé¢ç²‰é£˜è½æ•ˆæœ
                    for (let i = 0; i < 15; i++) {
                        setTimeout(() => {
                            const flour = document.createElement('div');
                            flour.style.position = 'absolute';
                            flour.style.width = Math.random() * 8 + 3 + 'px';
                            flour.style.height = flour.style.width;
                            flour.style.backgroundColor = '#f5f5dc';
                            flour.style.borderRadius = '50%';
                            flour.style.left = (centerX - 50 + Math.random() * 100) + 'px';
                            flour.style.top = (centerY - 50) + 'px';
                            flour.style.opacity = '0';
                            flour.style.boxShadow = '0 0 5px rgba(245, 245, 220, 0.8)';
                            animationArea.appendChild(flour);
                            
                            flour.style.transition = 'all 1s linear';
                            flour.style.top = (centerY + 30) + 'px';
                            flour.style.left = (parseFloat(flour.style.left) + Math.random() * 40 - 20) + 'px';
                            flour.style.opacity = '0.8';
                            
                            setTimeout(() => {
                                flour.style.opacity = '0';
                                setTimeout(() => flour.remove(), 1000);
                            }, 800);
                        }, i * 150);
                    }
                }, 500);
            }
            
            // æ­¥éª¤5: æ…æ‹Œé¢ç³Š
            function showMixing() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                const bowl = createBowl(centerX, centerY);
                
                // åˆ›å»ºæ…æ‹Œå™¨
                const mixer = document.createElement('div');
                mixer.className = 'animated-element rotate';
                mixer.innerHTML = 'ğŸ¥£';
                mixer.style.fontSize = '60px';
                mixer.style.left = centerX - 30 + 'px';
                mixer.style.top = (centerY - 60) + 'px';
                mixer.style.opacity = '0';
                animationArea.appendChild(mixer);
                
                setTimeout(() => {
                    mixer.style.transition = 'all 0.5s ease-out';
                    mixer.style.opacity = '1';
                    mixer.style.top = (centerY - 30) + 'px';
                    
                    // å¼€å§‹æ…æ‹ŒåŠ¨ç”»
                    setTimeout(() => {
                        mixer.style.animation = 'rotate 0.5s linear infinite';
                        
                        // åˆ›å»ºé¢ç³Š
                        const batter = document.createElement('div');
                        batter.style.position = 'absolute';
                        batter.style.width = '150px';
                        batter.style.height = '80px';
                        batter.style.background = 'linear-gradient(to bottom, #f8e0b0, #e6b873)';
                        batter.style.borderRadius = '50%';
                        batter.style.left = (centerX - 75) + 'px';
                        batter.style.top = (centerY + 10) + 'px';
                        batter.style.opacity = '0';
                        animationArea.appendChild(batter);
                        
                        batter.style.transition = 'all 1s ease-out';
                        batter.style.opacity = '1';
                        
                        // åˆ›å»ºæ…æ‹Œæ°”æ³¡
                        for (let i = 0; i < 10; i++) {
                            setTimeout(() => {
                                const bubble = document.createElement('div');
                                bubble.style.position = 'absolute';
                                bubble.style.width = '8px';
                                bubble.style.height = '8px';
                                bubble.style.backgroundColor = 'rgba(255, 255, 255, 0.7)';
                                bubble.style.borderRadius = '50%';
                                bubble.style.left = (centerX - 60 + Math.random() * 120) + 'px';
                                bubble.style.top = (centerY + 20) + 'px';
                                bubble.style.opacity = '0.7';
                                animationArea.appendChild(bubble);
                                
                                bubble.style.transition = 'all 1.5s ease-out';
                                bubble.style.top = (centerY - 20) + 'px';
                                bubble.style.opacity = '0';
                                
                                setTimeout(() => bubble.remove(), 1500);
                            }, i * 200);
                        }
                    }, 300);
                }, 500);
            }
            
            // æ­¥éª¤6: å€’å…¥æ¨¡å…·
            function showPouringIntoMold() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // åˆ›å»ºæ¨¡å…·
                const mold = createMold(centerX, centerY + 20);
                
                // åˆ›å»ºé¢ç³Š
                const batter = document.createElement('div');
                batter.style.position = 'absolute';
                batter.style.width = '20px';
                batter.style.height = '10px';
                batter.style.background = 'linear-gradient(to bottom, #f8e0b0, #e6b873)';
                batter.style.borderRadius = '5px';
                batter.style.left = (centerX - 80) + 'px';
                batter.style.top = (centerY - 40) + 'px';
                batter.style.opacity = '0';
                animationArea.appendChild(batter);
                
                setTimeout(() => {
                    batter.style.transition = 'all 1.5s ease-in-out';
                    batter.style.opacity = '1';
                    batter.style.left = (centerX - 10) + 'px';
                    batter.style.top = (centerY + 20) + 'px';
                    batter.style.width = '120px';
                    batter.style.height = '60px';
                    batter.style.borderRadius = '10px 10px 0 0';
                    
                    // å¡«æ»¡æ¨¡å…·
                    setTimeout(() => {
                        batter.style.height = '80px';
                        batter.style.borderRadius = '10px';
                        batter.style.top = (centerY + 20) + 'px';
                        
                        // éœ‡åŠ¨æ¨¡å…·
                        setTimeout(() => {
                            mold.style.animation = 'shake 0.3s ease-in-out 3';
                        }, 500);
                    }, 500);
                }, 500);
            }
            
            // æ­¥éª¤7: çƒ˜çƒ¤è›‹ç³•
            function showBaking() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // åˆ›å»ºçƒ¤ç®±
                const oven = document.createElement('div');
                oven.style.position = 'absolute';
                oven.style.width = '200px';
                oven.style.height = '150px';
                oven.style.background = 'linear-gradient(135deg, #8b4513, #a0522d)';
                oven.style.borderRadius = '10px';
                oven.style.left = (centerX - 100) + 'px';
                oven.style.top = (centerY - 50) + 'px';
                oven.style.boxShadow = '0 10px 20px rgba(0,0,0,0.3)';
                oven.style.border = '5px solid #654321';
                oven.style.opacity = '0';
                oven.style.transform = 'scale(0)';
                animationArea.appendChild(oven);
                
                // çƒ¤ç®±çª—å£
                const ovenWindow = document.createElement('div');
                ovenWindow.style.position = 'absolute';
                ovenWindow.style.width = '100px';
                ovenWindow.style.height = '60px';
                ovenWindow.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
                ovenWindow.style.borderRadius = '5px';
                ovenWindow.style.left = '50px';
                ovenWindow.style.top = '20px';
                oven.appendChild(ovenWindow);
                
                // è›‹ç³•
                const cake = document.createElement('div');
                cake.style.position = 'absolute';
                cake.style.width = '120px';
                cake.style.height = '60px';
                cake.style.background = 'linear-gradient(to top, #d4a65a, #e6b873)';
                cake.style.borderRadius = '10px 10px 0 0';
                cake.style.left = (centerX - 60) + 'px';
                cake.style.top = (centerY + 20) + 'px';
                cake.style.opacity = '0';
                animationArea.appendChild(cake);
                
                setTimeout(() => {
                    oven.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    cake.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    oven.style.opacity = '1';
                    oven.style.transform = 'scale(1)';
                    cake.style.opacity = '1';
                    cake.style.top = (centerY - 20) + 'px';
                    
                    // æ·»åŠ åŠ çƒ­æ•ˆæœ
                    for (let i = 0; i < 20; i++) {
                        setTimeout(() => {
                            const heat = document.createElement('div');
                            heat.style.position = 'absolute';
                            heat.style.width = '8px';
                            heat.style.height = '8px';
                            heat.style.background = 'radial-gradient(circle, #ff4500, transparent)';
                            heat.style.borderRadius = '50%';
                            heat.style.left = (centerX - 50 + Math.random() * 100) + 'px';
                            heat.style.top = (centerY - 20) + 'px';
                            heat.style.opacity = '0.8';
                            heat.style.boxShadow = '0 0 10px #ff4500';
                            animationArea.appendChild(heat);
                            
                            heat.style.transition = 'all 1s ease-out';
                            heat.style.top = (centerY - 80) + 'px';
                            heat.style.opacity = '0';
                            
                            setTimeout(() => heat.remove(), 1000);
                        }, i * 200);
                    }
                    
                    // è›‹ç³•è†¨èƒ€
                    setTimeout(() => {
                        cake.style.transition = 'all 2s ease-in-out';
                        cake.style.height = '100px';
                        cake.style.top = (centerY - 60) + 'px';
                    }, 1000);
                }, 500);
            }
            
            // æ­¥éª¤8: è£…é¥°è›‹ç³•
            function showDecorating() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // è›‹ç³•
                const cake = document.createElement('div');
                cake.className = 'animated-element float-up';
                cake.style.width = '150px';
                cake.style.height = '100px';
                cake.style.background = 'linear-gradient(to top, #d4a65a, #e6b873)';
                cake.style.borderRadius = '10px';
                cake.style.left = (centerX - 75) + 'px';
                cake.style.top = (centerY - 20) + 'px';
                cake.style.boxShadow = '0 5px 15px rgba(0,0,0,0.3)';
                cake.style.borderTop = '10px solid #f0c966';
                cake.style.opacity = '0';
                cake.style.transform = 'scale(0)';
                animationArea.appendChild(cake);
                
                setTimeout(() => {
                    cake.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    cake.style.opacity = '1';
                    cake.style.transform = 'scale(1)';
                    
                    // è£…é¥°
                    const decorations = [
                        { emoji: 'ğŸ’', x: centerX - 40, y: centerY - 40, delay: 500 },
                        { emoji: 'â­', x: centerX, y: centerY - 30, delay: 800 },
                        { emoji: 'â¤ï¸', x: centerX + 40, y: centerY - 40, delay: 1100 },
                        { emoji: 'âœ¨', x: centerX - 20, y: centerY - 60, delay: 1400 },
                        { emoji: 'ğŸŒŸ', x: centerX + 20, y: centerY - 60, delay: 1700 }
                    ];
                    
                    decorations.forEach((dec, index) => {
                        setTimeout(() => {
                            const decor = document.createElement('div');
                            decor.className = 'animated-element';
                            decor.style.fontSize = '20px';
                            decor.style.left = dec.x + 'px';
                            decor.style.top = (centerY + 50) + 'px';
                            decor.textContent = dec.emoji;
                            decor.style.opacity = '0';
                            decor.style.transform = 'scale(0)';
                            animationArea.appendChild(decor);
                            
                            decor.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';
                            decor.style.top = dec.y + 'px';
                            decor.style.opacity = '1';
                            decor.style.transform = 'scale(1.5)';
                            
                            setTimeout(() => {
                                decor.style.transform = 'scale(1)';
                                decor.style.animation = 'bounce 0.5s ease infinite alternate';
                            }, 300);
                        }, dec.delay);
                    });
                }, 500);
            }
            
            // æ­¥éª¤9: åŒ…è£…è›‹ç³•
            function showPackaging() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // åŒ…è£…ç›’
                const box = document.createElement('div');
                box.className = 'animated-element';
                box.innerHTML = 'ğŸ';
                box.style.fontSize = '100px';
                box.style.left = (centerX - 50) + 'px';
                box.style.top = (centerY - 20) + 'px';
                box.style.opacity = '0';
                box.style.transform = 'scale(0)';
                animationArea.appendChild(box);
                
                setTimeout(() => {
                    box.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    box.style.opacity = '1';
                    box.style.transform = 'scale(1)';
                    
                    // åŒ…è£…å¸¦
                    setTimeout(() => {
                        const ribbon = document.createElement('div');
                        ribbon.style.position = 'absolute';
                        ribbon.style.width = '120px';
                        ribbon.style.height = '20px';
                        ribbon.style.background = 'linear-gradient(to right, #ff3366, #ff0066)';
                        ribbon.style.borderRadius = '10px';
                        ribbon.style.left = (centerX - 60) + 'px';
                        ribbon.style.top = (centerY + 10) + 'px';
                        ribbon.style.opacity = '0';
                        ribbon.style.transform = 'scaleX(0)';
                        ribbon.style.zIndex = '2';
                        animationArea.appendChild(ribbon);
                        
                        ribbon.style.transition = 'all 0.5s ease-out 0.5s';
                        ribbon.style.opacity = '1';
                        ribbon.style.transform = 'scaleX(1)';
                        
                        // è´è¶ç»“
                        const bow = document.createElement('div');
                        bow.className = 'animated-element wiggle';
                        bow.innerHTML = 'ğŸ€';
                        bow.style.fontSize = '30px';
                        bow.style.left = (centerX - 15) + 'px';
                        bow.style.top = (centerY + 5) + 'px';
                        bow.style.opacity = '0';
                        bow.style.transform = 'scale(0)';
                        bow.style.zIndex = '3';
                        animationArea.appendChild(bow);
                        
                        setTimeout(() => {
                            bow.style.transition = 'all 0.5s ease-out';
                            bow.style.opacity = '1';
                            bow.style.transform = 'scale(1)';
                        }, 1000);
                    }, 300);
                }, 500);
            }
            
            // æ­¥éª¤10: é£æœºè¿é€
            function showAirplane() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerY = height / 2;
                
                // åˆ›å»ºäº‘æœµèƒŒæ™¯
                for (let i = 0; i < 5; i++) {
                    const cloud = document.createElement('div');
                    cloud.style.position = 'absolute';
                    cloud.style.fontSize = Math.random() * 30 + 20 + 'px';
                    cloud.style.left = (Math.random() * 100) + '%';
                    cloud.style.top = (Math.random() * 100) + 'px';
                    cloud.style.opacity = '0.7';
                    cloud.textContent = 'â˜ï¸';
                    animationArea.appendChild(cloud);
                }
                
                // åˆ›å»ºé£æœº
                const airplane = document.createElement('div');
                airplane.className = 'animated-element';
                airplane.innerHTML = 'âœˆï¸';
                airplane.style.fontSize = '60px';
                airplane.style.left = '-100px';
                airplane.style.top = (centerY - 30) + 'px';
                airplane.style.opacity = '0';
                animationArea.appendChild(airplane);
                
                setTimeout(() => {
                    airplane.style.transition = 'all 0.8s ease-out';
                    airplane.style.opacity = '1';
                    airplane.style.animation = 'fly 4s linear forwards';
                    
                    // å°¾è¿¹
                    for (let i = 0; i < 10; i++) {
                        setTimeout(() => {
                            const trail = document.createElement('div');
                            trail.style.position = 'absolute';
                            trail.style.fontSize = '20px';
                            trail.style.opacity = '0.5';
                            trail.textContent = 'ğŸ’¨';
                            trail.style.left = parseFloat(airplane.style.left) - 20 + 'px';
                            trail.style.top = (centerY - 30) + 'px';
                            trail.style.animation = 'fade-out 2s linear forwards';
                            animationArea.appendChild(trail);
                            
                            setTimeout(() => trail.remove(), 2000);
                        }, i * 200);
                    }
                }, 500);
                
                // æ·»åŠ æ·¡å‡ºåŠ¨ç”»
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fade-out {
                        to { opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // æ­¥éª¤11: é€è´§ä¸Šé—¨
            function showDelivery() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerY = height / 2;
                
                // åˆ›å»ºæˆ¿å±‹
                const house = document.createElement('div');
                house.style.position = 'absolute';
                house.innerHTML = 'ğŸ ';
                house.style.fontSize = '80px';
                house.style.left = (width - 120) + 'px';
                house.style.top = (centerY + 20) + 'px';
                house.style.opacity = '0';
                animationArea.appendChild(house);
                
                // åˆ›å»ºé€è´§å‘˜
                const deliveryMan = document.createElement('div');
                deliveryMan.className = 'animated-element';
                deliveryMan.innerHTML = 'ğŸšš';
                deliveryMan.style.fontSize = '60px';
                deliveryMan.style.left = '-100px';
                deliveryMan.style.top = (centerY + 20) + 'px';
                deliveryMan.style.opacity = '0';
                animationArea.appendChild(deliveryMan);
                
                // åˆ›å»ºé“è·¯
                const road = document.createElement('div');
                road.style.position = 'absolute';
                road.style.width = '100%';
                road.style.height = '3px';
                road.style.background = 'linear-gradient(to right, #666, #888, #666)';
                road.style.left = '0';
                road.style.top = (centerY + 50) + 'px';
                road.style.opacity = '0.8';
                animationArea.appendChild(road);
                
                setTimeout(() => {
                    house.style.transition = 'opacity 0.8s ease-out';
                    house.style.opacity = '1';
                    
                    setTimeout(() => {
                        deliveryMan.style.transition = 'all 0.8s ease-out';
                        deliveryMan.style.opacity = '1';
                        deliveryMan.style.animation = 'walk 2s linear forwards';
                        
                        setTimeout(() => {
                            deliveryMan.style.transition = 'left 3s ease-in-out';
                            deliveryMan.style.left = (width - 200) + 'px';
                            
                            // æ·»åŠ ç°å°˜æ•ˆæœ
                            for (let i = 0; i < 8; i++) {
                                setTimeout(() => {
                                    const dust = document.createElement('div');
                                    dust.style.position = 'absolute';
                                    dust.style.width = '5px';
                                    dust.style.height = '5px';
                                    dust.style.backgroundColor = '#888';
                                    dust.style.borderRadius = '50%';
                                    dust.style.left = (parseFloat(deliveryMan.style.left) - 20) + 'px';
                                    dust.style.top = (centerY + 50) + 'px';
                                    dust.style.opacity = '0.6';
                                    animationArea.appendChild(dust);
                                    
                                    dust.style.transition = 'all 1s ease-out';
                                    dust.style.top = (centerY + 30) + 'px';
                                    dust.style.opacity = '0';
                                    
                                    setTimeout(() => dust.remove(), 1000);
                                }, i * 300);
                            }
                        }, 1000);
                    }, 500);
                }, 500);
            }
            
            // æ­¥éª¤12: ç­‰å¾…ç­¾æ”¶
            function showReadyToReceive() {
                const width = animationArea.offsetWidth;
                const height = animationArea.offsetHeight;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // åˆ›å»ºæˆ¿å±‹
                const house = document.createElement('div');
                house.style.position = 'absolute';
                house.innerHTML = 'ğŸ ';
                house.style.fontSize = '80px';
                house.style.left = (centerX + 50) + 'px';
                house.style.top = (centerY + 20) + 'px';
                house.style.opacity = '0';
                house.style.transform = 'scale(0)';
                animationArea.appendChild(house);
                
                // åˆ›å»ºåŒ…è£¹
                const package = document.createElement('div');
                package.className = 'animated-element bounce';
                package.innerHTML = 'ğŸ“¦';
                package.style.fontSize = '60px';
                package.style.left = (centerX - 30) + 'px';
                package.style.top = (centerY + 20) + 'px';
                package.style.opacity = '0';
                package.style.transform = 'scale(0)';
                animationArea.appendChild(package);
                
                // æ”¶ä»¶äººåå­—
                const receiverName = document.createElement('div');
                receiverName.style.position = 'absolute';
                receiverName.innerHTML = 'ç§‹è‰³ æ”¶';
                receiverName.style.fontSize = '24px';
                receiverName.style.color = '#ffd700';
                receiverName.style.fontWeight = 'bold';
                receiverName.style.textShadow = '0 2px 5px rgba(0,0,0,0.5)';
                receiverName.style.left = centerX - 40 + 'px';
                receiverName.style.top = (centerY + 80) + 'px';
                receiverName.style.opacity = '0';
                animationArea.appendChild(receiverName);
                
                // åŠ¨ç”»åºåˆ—
                setTimeout(() => {
                    house.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    house.style.opacity = '1';
                    house.style.transform = 'scale(1)';
                    
                    setTimeout(() => {
                        package.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
                        package.style.opacity = '1';
                        package.style.transform = 'scale(1.5)';
                        package.style.animation = 'bounce 0.5s ease infinite alternate';
                        
                        setTimeout(() => {
                            package.style.transform = 'scale(1)';
                            receiverName.style.transition = 'opacity 0.8s ease-out';
                            receiverName.style.opacity = '1';
                        }, 300);
                    }, 500);
                }, 500);
            }
            
            // å·¥å…·å‡½æ•°ï¼šåˆ›å»ºç¢—
            function createBowl(centerX, centerY) {
                const bowl = document.createElement('div');
                bowl.style.position = 'absolute';
                bowl.style.width = '180px';
                bowl.style.height = '100px';
                bowl.style.background = 'radial-gradient(circle, #aaa, #888)';
                bowl.style.borderRadius = '0 0 90px 90px';
                bowl.style.left = (centerX - 90) + 'px';
                bowl.style.top = (centerY + 20) + 'px';
                bowl.style.boxShadow = '0 5px 10px rgba(0,0,0,0.3)';
                bowl.style.border = '8px solid #666';
                animationArea.appendChild(bowl);
                return bowl;
            }
            
            // å·¥å…·å‡½æ•°ï¼šåˆ›å»ºæ¨¡å…·
            function createMold(centerX, centerY) {
                const mold = document.createElement('div');
                mold.style.position = 'absolute';
                mold.style.width = '140px';
                mold.style.height = '80px';
                mold.style.background = 'linear-gradient(to bottom, #999, #888)';
                mold.style.borderRadius = '10px';
                mold.style.left = (centerX - 70) + 'px';
                mold.style.top = (centerY) + 'px';
                mold.style.boxShadow = '0 5px 10px rgba(0,0,0,0.3)';
                animationArea.appendChild(mold);
                return mold;
            }
            
            // è‡ªåŠ¨æ’­æ”¾å‡½æ•°
            function autoPlay() {
                if (currentStep < steps.length && isAutoPlaying) {
                    showStep(currentStep);
                    
                    animationTimer = setTimeout(() => {
                        currentStep++;
                        if (currentStep >= steps.length) {
                            // å¾ªç¯æ’­æ”¾
                            currentStep = 0;
                        }
                        autoPlay();
                    }, steps[currentStep]?.duration || 3000);
                }
            }
            
            // å¼€å§‹åŠ¨ç”»
            function startAnimation() {
                setTimeout(() => {
                    instruction.textContent = "ğŸ¬ é¸¡è›‹ç³•åˆ¶ä½œåŠ¨ç”»å¼€å§‹ï¼";
                    autoPlay();
                }, 1000);
            }
            
            // ç­¾æ”¶å‡½æ•°
            window.receiveCake = function() {
                if (isReceiving) return;
                
                isReceiving = true;
                clearTimeout(animationTimer);
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                receiveButton.classList.add('receiving');
                buttonText.textContent = "ç­¾æ”¶ä¸­...";
                buttonIcon.textContent = "â³";
                
                // æ’­æ”¾ç­¾æ”¶åŠ¨ç”»
                setTimeout(() => {
                    receiveButton.classList.remove('receiving');
                    receiveButton.classList.add('received');
                    buttonText.textContent = "ç­¾æ”¶æˆåŠŸï¼";
                    buttonIcon.textContent = "âœ…";
                    
                    // æ˜¾ç¤ºæˆåŠŸç‰¹æ•ˆ
                    showSuccessEffect();
                    
                    // é‡ç½®æŒ‰é’®çŠ¶æ€
                    setTimeout(() => {
                        receiveButton.classList.remove('received', 'show');
                    }, 2000);
                }, 1000);
            };
            
            // æˆåŠŸç‰¹æ•ˆ
            function showSuccessEffect() {
                successEffect.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.add('show');
                }, 300);
                
                // æ¸…é™¤åŠ¨ç”»åŒºåŸŸ
                clearAnimationArea();
                
                // åˆ›å»ºåº†ç¥è›‹ç³•
                const containerWidth = animationArea.offsetWidth;
                const containerHeight = animationArea.offsetHeight;
                const centerX = containerWidth / 2;
                const centerY = containerHeight / 2;
                
                const cake = document.createElement('div');
                cake.className = 'animated-element';
                cake.innerHTML = 'ğŸ‚';
                cake.style.fontSize = '100px';
                cake.style.left = centerX - 50 + 'px';
                cake.style.top = centerY - 100 + 'px';
                cake.style.filter = 'drop-shadow(0 5px 15px rgba(255,215,0,0.5))';
                cake.style.transform = 'scale(0)';
                animationArea.appendChild(cake);
                
                setTimeout(() => {
                    cake.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    cake.style.transform = 'scale(1.5)';
                    
                    setTimeout(() => {
                        cake.style.transform = 'scale(1)';
                        cake.style.animation = 'bounce 0.5s ease infinite alternate';
                        
                        // åº†ç¥ç‰¹æ•ˆ
                        for (let i = 0; i < 30; i++) {
                            setTimeout(() => {
                                const confetti = document.createElement('div');
                                const colors = ['#ff3366', '#33ccff', '#ffcc00', '#99ff33', '#ff66cc'];
                                const color = colors[Math.floor(Math.random() * colors.length)];
                                
                                confetti.style.position = 'absolute';
                                confetti.style.width = Math.random() * 10 + 5 + 'px';
                                confetti.style.height = Math.random() * 10 + 5 + 'px';
                                confetti.style.backgroundColor = color;
                                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                                confetti.style.left = centerX + 'px';
                                confetti.style.top = centerY + 'px';
                                confetti.style.transform = 'scale(0)';
                                confetti.style.boxShadow = '0 0 5px rgba(255,255,255,0.5)';
                                animationArea.appendChild(confetti);
                                
                                const angle = Math.random() * Math.PI * 2;
                                const distance = Math.random() * 150 + 100;
                                
                                confetti.style.transition = 'all 1s cubic-bezier(0.34, 1.56, 0.64, 1)';
                                confetti.style.left = (centerX + Math.cos(angle) * distance) + 'px';
                                confetti.style.top = (centerY + Math.sin(angle) * distance) + 'px';
                                confetti.style.transform = 'scale(1) rotate(' + (Math.random() * 360) + 'deg)';
                                confetti.style.opacity = '1';
                                
                                setTimeout(() => {
                                    confetti.style.transition = 'opacity 0.5s ease';
                                    confetti.style.opacity = '0';
                                    setTimeout(() => confetti.remove(), 500);
                                }, 1000);
                            }, i * 30);
                        }
                        
                        // 3ç§’åé‡ç½®
                        setTimeout(() => {
                            successEffect.classList.remove('show');
                            successMessage.classList.remove('show');
                            
                            setTimeout(() => {
                                instruction.textContent = "ğŸ° è›‹ç³•åˆ¶ä½œå®Œæˆï¼å‡†å¤‡å¼€å§‹æ–°çš„åˆ¶ä½œ...";
                                isReceiving = false;
                                isAutoPlaying = true;
                                currentStep = 0;
                                
                                setTimeout(() => {
                                    autoPlay();
                                }, 2000);
                            }, 500);
                        }, 3000);
                    }, 300);
                }, 100);
            }
            
            // å¯åŠ¨åŠ¨ç”»
            startAnimation();
            
            // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°è®¡ç®—
            window.addEventListener('resize', () => {
                if (currentStep < steps.length && isAutoPlaying && !isReceiving) {
                    showStep(currentStep);
                }
            });
        });
    </script>
</body>
</html>